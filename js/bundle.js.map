{"version":3,"sources":["webpack:///webpack/bootstrap de2c1f53901af3732af1","webpack:///./src/index.tsx","webpack:///external \"React\"","webpack:///external \"ReactDOM\"","webpack:///./src/components/toasts.tsx","webpack:///./src/setup.ts"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;;ACtCA,KAAY,KAAK,uBAAM,cAAO,CAAC;AAC/B,KAAY,QAAQ,uBAAM,kBAAW,CAAC;AAEtC,oCAAiC,4BAAqB,CAAC;AACvD,mCAAwD,gBAAS,CAAC;AAElE,KAAI,KAAK,GAAG,IAAI,qBAAa,CAAC,gCAAwB,CAAC,aAAa,CAAC,CAAC;AAEtE,SAAQ,CAAC,MAAM,CACX,oBAAC,cAAK,GAAC,SAAS,EAAC,sBAAsB,EAAC,SAAS,EAAE,kBAAS,CAAC,IAAK,EAAE,EACpE,QAAQ,CAAC,cAAc,CAAC,iBAAiB,CAAC,CAC7C,CAAC;AAEF,MAAK,CAAC,IAAI,EAAE,CAAC,IAAI,CAAE,cAAI;KACnB,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;KACtB,QAAQ,CAAC,MAAM,CACX,oBAAC,cAAK,GAAC,SAAS,EAAC,qBAAqB,EAAC,SAAS,EAAE,kBAAS,CAAC,IAAK,EAAE,EACnE,QAAQ,CAAC,cAAc,CAAC,iBAAiB,CAAC,CAC7C,CAAC;AACN,EAAC,CAAC,CAAC,KAAK,CAAC,eAAK;KACV,QAAQ,CAAC,MAAM,CACX,oBAAC,cAAK,GAAC,SAAS,EAAE,+BAA6B,KAAK,CAAC,OAAU,EAAC,SAAS,EAAE,kBAAS,CAAC,KAAM,EAAE,EAC7F,QAAQ,CAAC,cAAc,CAAC,iBAAiB,CAAC,CAC7C,CAAC;KACF,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;AACzB,EAAC,CAAC,CAAC;;;;;;;;;;ACzBH,wB;;;;;;;;;ACAA,2B;;;;;;;;;;;;;;;ACAA,KAAY,KAAK,uBAAM,cAAO,CAAC;AAE/B,YAAY,SAAS;KAAG,yCAAI;KAAE,2CAAK;AAAC,EAAC,EAAzB,iBAAS,KAAT,iBAAS,QAAgB;AAArC,KAAY,SAAS,GAAT,iBAAyB;AAGrC;KAA2B,yBAA+B;KAA1D;SAA2B,8BAA+B;KAK1D,CAAC;KAJG,sBAAM,GAAN;SACI,IAAI,cAAc,GAAG,YAAS,IAAI,CAAC,KAAK,CAAC,SAAS,KAAK,SAAS,CAAC,KAAK,GAAG,cAAc,GAAE,EAAE,CAAE,CAAC;SAC9F,MAAM,CAAC,qBAAC,GAAG,IAAC,SAAS,EAAE,cAAe,EAAC,EAAE,EAAC,YAAY,GAAE,IAAI,CAAC,KAAK,CAAC,SAAU,CAAM,CAAC;KACxF,CAAC;KACL,YAAC;AAAD,EAAC,CAL0B,KAAK,CAAC,SAAS,GAKzC;AALY,cAAK,QAKjB;;;;;;;;;;;ACVD,8CAA6C;AAgB7C,YAAY,wBAAwB;KAAG,uFAAY;KAAE,yFAAa;KAAE,uEAAI;AAAC,EAAC,EAA9D,gCAAwB,KAAxB,gCAAwB,QAAsC;AAA1E,KAAY,wBAAwB,GAAxB,gCAA8D;AAE1E;KAgBI,uBAAY,WAAqC;SAC7C,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;KAClC,CAAC;KAED,2BAAG,GAAH,UAAI,MAAsB;SACvB,IAAI,CAAC,GAAG,GAAG,MAAM,CAAC,GAAG,CAAC;SACtB,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC;SAChC,IAAI,CAAC,YAAY,GAAG,MAAM,CAAC,YAAY,CAAC;SACxC,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC,SAAS,CAAC;SAClC,IAAI,CAAC,YAAY,GAAG,MAAM,CAAC,YAAY,CAAC;SACxC,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC;SAChC,IAAI,CAAC,YAAY,GAAG,MAAM,CAAC,YAAY,CAAC;SACxC,IAAI,CAAC,YAAY,GAAG,MAAM,CAAC,YAAY,CAAC;KAC3C,CAAC;KAEF,6BAAK,GAAL;SACI,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC;SAChB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;SACrB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;SACzB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;SACtB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;SACzB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;SACrB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;SACzB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;KAC7B,CAAC;KAED,mCAAW,GAAX;SACG,MAAM,CAAC,CAAC,IAAI,CAAC,QAAQ,KAAK,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,KAAK,EAAE,CAAC;aACpD,CAAC,IAAI,CAAC,SAAS,KAAK,EAAE,CAAC,IAAI,CAAE,IAAI,CAAC,YAAY,KAAK,EAAE,CAAC,CAAC;KACjE,CAAC;KAED,4BAAI,GAAJ;SAAA,iBAiBC;SAhBA,MAAM,CAAC,IAAI,OAAO,CAAC,UAAC,OAAO,EAAE,MAAM;aACnC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,cAAc,EAAE,gBAAM;iBAC5C,EAAE,CAAC,CAA2B,MAAO,CAAC,YAAY,IAAI,IAAI,CAAC,CAAC,CAAC;qBACzD,KAAI,CAAC,GAAG,CAA2B,MAAO,CAAC,YAAY,CAAC,CAAC;qBACzD,EAAE,CAAC,CAAC,KAAI,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC;yBACrB,MAAM,CAAC,OAAO,CAAiB,KAAI,CAAC,CAAC;qBACzC,CAAC;qBAAC,IAAI,CAAC,CAAC;yBACJ,KAAI,CAAC,KAAK,EAAE,CAAC;yBACb,MAAM,CAAC,MAAM,CAAC,IAAI,KAAK,CAAC,+CAA+C,CAAC,CAAC,CAAC;qBAC9E,CAAC;iBACL,CAAC;iBAAC,IAAI,CAAC,CAAC;qBACJ,KAAI,CAAC,KAAK,EAAE,CAAC;qBACb,MAAM,CAAC,MAAM,CAAC,IAAI,KAAK,CAAC,gDAAgD,CAAC,CAAC,CAAC;iBAC/E,CAAC;aACG,CAAC,CAAC,CAAC;SACP,CAAC,CAAC,CAAC;KACP,CAAC;KACL,oBAAC;AAAD,EAAC;AA9DK,sBAAa,gBA8DlB","file":"./js/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap de2c1f53901af3732af1\n **/","import * as React from \"react\";\r\nimport * as ReactDOM from \"react-dom\";\r\n\r\nimport { Toast, ToastType } from \"./components/toasts\";\r\nimport { WallabagSetup, WallabagSetupStorageType } from \"./setup\";\r\n\r\nlet setup = new WallabagSetup(WallabagSetupStorageType.ChromeStorage);\r\n\r\nReactDOM.render(\r\n    <Toast toastText=\"Loading wallabag API\" toastType={ToastType.info}/>,\r\n    document.getElementById(\"react-container\")\r\n);\r\n\r\nsetup.load().then( data => {\r\n    console.log(\"loaded\");\r\n    ReactDOM.render(\r\n        <Toast toastText=\"Loaded wallabag API\" toastType={ToastType.info}/>,\r\n        document.getElementById(\"react-container\")\r\n    );\r\n}).catch(error => {\r\n    ReactDOM.render(\r\n        <Toast toastText={`Error Loaded wallabag API ${error.message}`} toastType={ToastType.error}/>,\r\n        document.getElementById(\"react-container\")\r\n    );\r\n    console.error(error);\r\n});\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.tsx\n **/","module.exports = React;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"React\"\n ** module id = 1\n ** module chunks = 0\n **/","module.exports = ReactDOM;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"ReactDOM\"\n ** module id = 2\n ** module chunks = 0\n **/","import * as React from \"react\";\r\n\r\nexport enum ToastType { info, error }\r\nexport interface ToastProps { toastText: string; toastType: ToastType; }\r\n\r\nexport class Toast extends React.Component<ToastProps, {}> {\r\n    render() {\r\n        let toastClassName = `toast ${this.props.toastType === ToastType.error ? \"toast-danger\" :\"\"}`;\r\n        return <div className={toastClassName} id=\"info-toast\">{this.props.toastText}</div>;\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/toasts.tsx\n **/","///<reference path=\"../typings/index.d.ts\" />\r\nexport interface IWallabagSetup {\r\n  Url: string;\r\n  ClientId: string;\r\n  ClientSecret: string;\r\n  UserLogin: string;\r\n  UserPassword: string;\r\n  ApiToken: string;\r\n  RefreshToken: string;\r\n  ExpireDateMs: string;\r\n}\r\n\r\ninterface IChromeWallabagStorage {\r\n    wallabagdata: IWallabagSetup;\r\n}\r\n\r\nexport enum WallabagSetupStorageType { LocalStorage, ChromeStorage, File }\r\n\r\nexport /**\r\n * WallabagSetup\r\n */\r\nclass WallabagSetup implements IWallabagSetup {\r\n\r\n    Url: string;\r\n    ClientId: string;\r\n    ClientSecret: string;\r\n    UserLogin: string;\r\n    UserPassword: string;\r\n    ApiToken: string;\r\n    RefreshToken: string;\r\n    ExpireDateMs: string;\r\n\r\n    storageType: WallabagSetupStorageType;\r\n\r\n    constructor(storageType: WallabagSetupStorageType) {\r\n        this.storageType = storageType;\r\n     }\r\n\r\n     set(params: IWallabagSetup) {\r\n        this.Url = params.Url;\r\n        this.ClientId = params.ClientId;\r\n        this.ClientSecret = params.ClientSecret;\r\n        this.UserLogin = params.UserLogin;\r\n        this.UserPassword = params.UserPassword;\r\n        this.ApiToken = params.ApiToken;\r\n        this.RefreshToken = params.RefreshToken;\r\n        this.ExpireDateMs = params.ExpireDateMs;\r\n     }\r\n\r\n    clear() {\r\n        this.Url = null;\r\n        this.ClientId = null;\r\n        this.ClientSecret = null;\r\n        this.UserLogin = null;\r\n        this.UserPassword = null;\r\n        this.ApiToken = null;\r\n        this.RefreshToken = null;\r\n        this.ExpireDateMs = null;\r\n    }\r\n\r\n    checkParams(): boolean {\r\n       return (this.ClientId !== \"\") && (this.ClientSecret !== \"\") &&\r\n              (this.UserLogin !== \"\") && ( this.UserPassword !== \"\");\r\n    }\r\n\r\n    load() {\r\n     return new Promise((resolve, reject) => {\r\n     chrome.storage.local.get(\"wallabagdata\", result => {\r\n        if ( (<IChromeWallabagStorage>result).wallabagdata != null) {\r\n            this.set( (<IChromeWallabagStorage>result).wallabagdata);\r\n            if (this.checkParams()) {\r\n                return resolve(<IWallabagSetup>this);\r\n            } else {\r\n                this.clear();\r\n                return reject(new Error(\"Some parameters are empty. Check the settings\"));\r\n            }\r\n        } else {\r\n            this.clear();\r\n            return reject(new Error(\"Saved parameters not found. Check the settings\"));\r\n        }\r\n            });\r\n        });\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/setup.ts\n **/"],"sourceRoot":""}